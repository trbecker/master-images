\newcommand\blockonewidth{5.5em}
\newcommand\blockspacing{1.5em}

\tikzstyle{fillcolor1} = [fill=green!10]
\tikzstyle{fillcolor2} = [fill=red!10]
\tikzstyle{fillcolor3} = [fill=orange!10]
\tikzstyle{fillcolor4} = [fill=blue!10]
\tikzstyle{fillcolor5} = [fill=blue!20]

\tikzstyle{color1} = [black!20!red]
\tikzstyle{color2} = [black!60!green]
\tikzstyle{color3} = [black!30!blue]


% format
\tikzstyle{rounded_centered} = [draw,rounded corners,text centered]
\tikzstyle{function} = [rounded_centered,text width=5em]
\tikzstyle{app} = [rounded_centered,text width=\blockonewidth,minimum height=3em]
\tikzstyle{block1} = [app,text width=\blockonewidth]
\tikzstyle{terminator} = [rounded_centered]

% color scheme
\tikzstyle{contribution} = [fill=green!30]
\tikzstyle{near_rt_ric} = [fill=black!10]
\tikzstyle{near_rt_ric_sysapp} = [fill=yellow!10]
\tikzstyle{near_rt_ric_auxapp} = [fill=yellow!20!blue!20]
\tikzstyle{smo} = [fill=blue!25]
\tikzstyle{non_rt_ric} = [fill=black!25]
\tikzstyle{o_cu_function} = [fill=blue!10]
\tikzstyle{o_cu} = [fill=blue!20]
\tikzstyle{o_du_function} = [fill=red!10]
\tikzstyle{o_du} = [fill=red!20]
\tikzstyle{o_ru} = [fill=orange!10]
\tikzstyle{ue} = [fill=violet!10]
\tikzstyle{core} = [fill=black!40]
\tikzstyle{e2} = [black!65]
\tikzstyle{a1} = [e2]
\tikzstyle{o1} = [e2]

% special styles
\newcommand\rmrlenght{(3*\blockspacing+4*\blockonewidth)}
\tikzstyle{rmr} = [draw,rectangle,text centered,text width={\rmrlenght}]

\newcommand\smoheight{15em}
\newcommand\blockposr[1]{{(#1 + 0.5) * (\blockonewidth + \blockspacing)}}
\newcommand\blockposl[1]{{-(#1 + 0.5) * (\blockonewidth + \blockspacing)}}

\newcommand\innerposr[1]{{ (#1) * (\blockonewidth + \blockspacing)}}
\newcommand\innerposl[1]{{-(#1) * (\blockonewidth + \blockspacing)}}

\makeatletter
\tikzset{
    database/.style={
        path picture={
            \draw (0, 1.5*\database@segmentheight) circle [x radius=\database@radius,y radius=\database@aspectratio*\database@radius];
            \draw (-\database@radius, 0.5*\database@segmentheight) arc [start angle=180,end angle=360,x radius=\database@radius, y radius=\database@aspectratio*\database@radius];
            \draw (-\database@radius,-0.5*\database@segmentheight) arc [start angle=180,end angle=360,x radius=\database@radius, y radius=\database@aspectratio*\database@radius];
            \draw (-\database@radius,1.5*\database@segmentheight) -- ++(0,-3*\database@segmentheight) arc [start angle=180,end angle=360,x radius=\database@radius, y radius=\database@aspectratio*\database@radius] -- ++(0,3*\database@segmentheight);
        },
        minimum width=2*\database@radius + \pgflinewidth,
        minimum height=3*\database@segmentheight + 2*\database@aspectratio*\database@radius + \pgflinewidth,
    },
    database segment height/.store in=\database@segmentheight,
    database radius/.store in=\database@radius,
    database aspect ratio/.store in=\database@aspectratio,
    database segment height=0.1cm,
    database radius=0.25cm,
    database aspect ratio=0.35,
}
\makeatother
